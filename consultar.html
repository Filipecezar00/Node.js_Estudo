<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base NodeRed</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
    <div class="topo">
        <a class="btn"  href="base.html">Home</a>
        <a class="btn" href="adicionar.html">Adicionar Contato</a>
        <a class="btn" href="consultar.html">Consultar</a>
    </div>
        <h1>Cursos - WebApp - Node Red</h1> 
        <div id="filtro">
          
        </div>
        <div id="dados">


        </div>
    <script>
        const obterTodosRegistros = async()=>{
        const  resp = await fetch('http://127.0.0.1:1880/todosregistros')
        const respJson = await resp.json()
        const nomes = respJson.map(item=>`<p>Nome: ${item.nome} - Idade: ${item.idade}</p>`).join(''); 
        document.getElementById("dados").innerHTML = JSON.stringify(nomes); 

        console.log(respJson); 
        }
        
        obterTodosRegistros();

    </script>
    </body>
</html>